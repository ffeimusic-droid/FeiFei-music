<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FeiFei | Film & Game Composer</title>
    <style>
        /* --- 基础设置 --- */
        :root {
            --bg-color: #050505;
            --text-color: #e0e0e0;
            --accent-color: #c5a059; /* 哑光金 */
            --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            line-height: 1.7;
            overflow-x: hidden;
            cursor: default;
        }

        /* 胶片噪点滤镜 */
        .grain-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999; opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; }

        /* --- 导航栏 --- */
        nav {
            position: fixed; top: 0; width: 100%; padding: 25px 50px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000;
            background: linear-gradient(to bottom, rgba(5,5,5,0.8), transparent);
            transition: all 0.5s ease;
        }
        nav.scrolled {
            background: rgba(5, 5, 5, 0.95); padding: 15px 50px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .logo { font-size: 22px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; color: #fff; }
        .nav-links { display: flex; gap: 35px; }
        .nav-links a { font-size: 11px; text-transform: uppercase; letter-spacing: 2px; color: #ccc; }
        .nav-links a:hover { color: var(--accent-color); }

        /* --- 首页 Hero --- */
        .hero {
            height: 100vh; width: 100%; position: relative; overflow: hidden;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }
        .hero-bg {
            position: absolute; top: -5%; left: -5%; width: 110%; height: 110%;
            background: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2670&auto=format&fit=crop') no-repeat center center/cover;
            z-index: 0; transition: transform 0.1s ease-out;
            animation: bgZoom 20s infinite alternate;
        }
        .hero::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 40%, #050505 100%); z-index: 1;
        }
        .hero-content { position: relative; z-index: 2; }
        .hero h1 {
            font-size: 6rem; font-weight: 300; letter-spacing: 15px; margin-bottom: 10px;
            text-transform: uppercase; color: #fff;
            opacity: 0; transform: translateY(30px);
            animation: fadeUp 1.5s cubic-bezier(0.2, 1, 0.3, 1) forwards 0.5s;
        }
        .hero p {
            font-size: 1.1rem; font-weight: 400; letter-spacing: 6px; color: rgba(255,255,255,0.8);
            text-transform: uppercase; opacity: 0; transform: translateY(20px);
            animation: fadeUp 1.5s cubic-bezier(0.2, 1, 0.3, 1) forwards 0.8s;
        }

        /* --- About --- */
        .section { padding: 140px 10%; position: relative; z-index: 2; background: #050505; }
        .about { display: grid; grid-template-columns: 1fr 1.2fr; gap: 80px; align-items: center; }
        
        .about-img { position: relative; overflow: hidden; border-radius: 2px; }
        .about-img img { 
            width: 100%; height: auto; display: block;
            filter: grayscale(30%) contrast(1.1) brightness(0.9);
            transition: 0.5s;
        }
        .about-img:hover img { filter: grayscale(0%) contrast(1.1) brightness(1); transform: scale(1.02); }
        
        .about-text h2 { font-size: 2.5rem; margin-bottom: 30px; color: #fff; font-weight: 300; }
        .about-text p { margin-bottom: 25px; color: #999; font-size: 1.1rem; }
        .signature { font-family: 'Times New Roman', serif; font-style: italic; color: var(--accent-color); margin-top: 30px; font-size: 1.3rem; }

        /* --- Portfolio --- */
        .portfolio { text-align: center; }
        .portfolio h2 { font-size: 2rem; margin-bottom: 80px; font-weight: 300; letter-spacing: 4px; text-transform: uppercase; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 40px; }
        
        .grid-item { 
            position: relative; height: 420px; cursor: pointer; overflow: hidden; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .grid-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s ease; opacity: 0.8; }
        .grid-item:hover img { transform: scale(1.1); opacity: 0.4; }

        /* 覆盖层与UI */
        .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.95), transparent);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; transition: 0.4s;
        }
        .grid-item:hover .overlay, .grid-item.playing .overlay { opacity: 1; background: rgba(0,0,0,0.8); }

        /* 播放按钮 */
        .play-btn {
            width: 60px; height: 60px; border: 2px solid var(--accent-color); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: auto; margin-top: auto;
            transition: 0.3s; position: relative;
        }
        .play-btn::before {
            content: ''; display: block; width: 0; height: 0;
            border-left: 15px solid #fff; border-top: 10px solid transparent; border-bottom: 10px solid transparent;
            margin-left: 5px; transition: 0.3s;
        }
        .play-btn:hover { background: var(--accent-color); }
        .play-btn:hover::before { border-left-color: #000; }
        
        .grid-item.playing .play-btn { border-color: #fff; background: rgba(255,255,255,0.1); animation: pulse 2s infinite; }
        .grid-item.playing .play-btn::before {
            width: 14px; height: 16px; border: none; margin-left: 0;
            border-left: 4px solid var(--accent-color); border-right: 4px solid var(--accent-color); background: transparent;
        }

        /* 底部播放控制区 */
        .player-ui {
            width: 100%; padding: 0 20px 20px 20px;
            display: flex; flex-direction: column; gap: 10px;
            background: linear-gradient(to top, #000 20%, transparent);
        }

        /* 进度条行 */
        .progress-wrapper { display: flex; align-items: flex-end; width: 100%; gap: 10px; height: 40px; }
        .time-display { font-size: 10px; color: #888; font-family: monospace; width: 35px; text-align: center; padding-bottom: 2px; }
        
        .visualizer-container { position: relative; flex-grow: 1; height: 100%; display: flex; align-items: flex-end; }
        .visualizer-canvas { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        
        input[type=range] {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 10px;
            -webkit-appearance: none; background: transparent; cursor: pointer; z-index: 20;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 10px; width: 10px; border-radius: 50%; 
            background: #fff; margin-top: -4px; box-shadow: 0 0 8px rgba(255,255,255,0.8);
            transition: transform 0.2s; transform: scale(0);
        }
        .grid-item:hover input[type=range]::-webkit-slider-thumb,
        .grid-item.playing input[type=range]::-webkit-slider-thumb { transform: scale(1); }

        /* 信息行 */
        .info-box { text-align: center; }
        .track-title { color: #fff; font-size: 1.1rem; display: block; margin-bottom: 2px; }
        .track-genre { color: var(--accent-color); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; }

        @keyframes bgZoom { from { transform: scale(1); } to { transform: scale(1.1); } }
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(197, 160, 89, 0.4); } 70% { box-shadow: 0 0 0 15px rgba(197, 160, 89, 0); } 100% { box-shadow: 0 0 0 0 rgba(197, 160, 89, 0); } }

        /* --- Footer --- */
        .contact { text-align: center; background: #080808; padding: 100px 20px; }
        .contact-btn { display: inline-block; border: 1px solid rgba(255,255,255,0.3); color: #fff; padding: 15px 50px; letter-spacing: 3px; margin-top: 30px; transition: 0.3s; }
        .contact-btn:hover { border-color: var(--accent-color); color: var(--accent-color); }
        footer { text-align: center; padding: 40px; color: #444; font-size: 0.75rem; background: #000; }

        @media (max-width: 768px) { .hero h1 { font-size: 3rem; } .about { grid-template-columns: 1fr; } .nav-links { display: none; } }
    </style>
</head>
<body>

    <div class="grain-overlay"></div>

    <nav id="navbar">
        <div class="logo">FeiFei</div>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#about">Biography</a>
            <a href="#portfolio">Discography</a>
            <a href="#contact">Contact</a>
        </div>
    </nav>

    <section id="home" class="hero">
        <div class="hero-bg" id="heroBg"></div>
        <div class="hero-content">
            <h1>FeiFei</h1>
            <p>Composer for Film & Games</p>
        </div>
    </section>

    <section id="about" class="section about">
        <div class="about-img">
            <!-- 个人照片 -->
            <img src="https://images.unsplash.com/photo-1531384441138-2736e62e0919?q=80&w=1000&auto=format&fit=crop" alt="FeiFei Artist Portrait">
        </div>
        <div class="about-text">
            <h2>Sculpting Silence into Emotion</h2>
            <p>FeiFei 是一位游走于虚幻与现实之间的作曲家。作为<strong>影视游戏配乐师</strong>，我擅长将宏大的管弦乐编制与前卫的电子合成器音色结合。</p>
            <p>在我眼中，音乐不只是听觉的艺术，它是构建世界维度的基石。无论是赛博朋克的霓虹街景，还是古老神庙的静谧回响，我都用声音为故事注入灵魂。</p>
            <div class="signature">// Sound is the final layer of reality.</div>
        </div>
    </section>

    <section id="portfolio" class="section portfolio">
        <h2>Selected Works</h2>
        <div class="grid">
            
            <!-- Track 1: 已改为 mp3 -->
            <div class="grid-item" onclick="togglePlay(this)">
                <audio src="music_1.mp3"></audio>
                <img src="https://images.unsplash.com/photo-1535905557558-afc4877a26fc?q=80&w=1000&auto=format&fit=crop" alt="Project 1">
                <div class="overlay">
                    <div class="play-btn"></div>
                    <div class="player-ui" onclick="event.stopPropagation()">
                        <div class="progress-wrapper">
                            <span class="time-display current-time">0:00</span>
                            <div class="visualizer-container">
                                <canvas class="visualizer-canvas" width="200" height="40"></canvas>
                                <input type="range" value="0" max="100" oninput="seekAudio(this, event)">
                            </div>
                            <span class="time-display total-time">0:00</span>
                        </div>
                        <div class="info-box">
                            <span class="track-title">The Last Guardian</span>
                            <span class="track-genre">Orchestral / Epic</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track 2: 已改为 mp3 -->
            <div class="grid-item" onclick="togglePlay(this)">
                <audio src="music_2.mp3"></audio>
                <img src="https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=1000&auto=format&fit=crop" alt="Project 2">
                <div class="overlay">
                    <div class="play-btn"></div>
                    <div class="player-ui" onclick="event.stopPropagation()">
                        <div class="progress-wrapper">
                            <span class="time-display current-time">0:00</span>
                            <div class="visualizer-container">
                                <canvas class="visualizer-canvas" width="200" height="40"></canvas>
                                <input type="range" value="0" max="100" oninput="seekAudio(this, event)">
                            </div>
                            <span class="time-display total-time">0:00</span>
                        </div>
                        <div class="info-box">
                            <span class="track-title">Neon Override</span>
                            <span class="track-genre">Cyberpunk / Synth</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track 3: 已改为 mp3 -->
            <div class="grid-item" onclick="togglePlay(this)">
                <audio src="music_3.mp3"></audio>
                <img src="https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?q=80&w=1000&auto=format&fit=crop" alt="Project 3">
                <div class="overlay">
                    <div class="play-btn"></div>
                    <div class="player-ui" onclick="event.stopPropagation()">
                        <div class="progress-wrapper">
                            <span class="time-display current-time">0:00</span>
                            <div class="visualizer-container">
                                <canvas class="visualizer-canvas" width="200" height="40"></canvas>
                                <input type="range" value="0" max="100" oninput="seekAudio(this, event)">
                            </div>
                            <span class="time-display total-time">0:00</span>
                        </div>
                        <div class="info-box">
                            <span class="track-title">Letters to Nowhere</span>
                            <span class="track-genre">Piano / Emotional</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track 4: 已改为 mp3 -->
            <div class="grid-item" onclick="togglePlay(this)">
                <audio src="music_4.mp3"></audio>
                <img src="https://images.unsplash.com/photo-1505635552518-3448ff116af3?q=80&w=1000&auto=format&fit=crop" alt="Project 4">
                <div class="overlay">
                    <div class="play-btn"></div>
                    <div class="player-ui" onclick="event.stopPropagation()">
                        <div class="progress-wrapper">
                            <span class="time-display current-time">0:00</span>
                            <div class="visualizer-container">
                                <canvas class="visualizer-canvas" width="200" height="40"></canvas>
                                <input type="range" value="0" max="100" oninput="seekAudio(this, event)">
                            </div>
                            <span class="time-display total-time">0:00</span>
                        </div>
                        <div class="info-box">
                            <span class="track-title">Deep Void</span>
                            <span class="track-genre">Dark / Suspense</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <section id="contact" class="contact">
        <h2>Collaboration / Commission</h2>
        <a href="mailto:studio@feifei.music" class="contact-btn">ENTER THE STUDIO</a>
    </section>

    <footer>
        <p>&copy; 2025 FeiFei Music. All Rights Reserved.</p>
    </footer>

    <script>
        // 视差
        const heroBg = document.getElementById('heroBg');
        document.addEventListener('mousemove', (e) => {
            const x = (window.innerWidth - e.pageX * 2) / 90;
            const y = (window.innerHeight - e.pageY * 2) / 90;
            heroBg.style.transform = `translate(${x}px, ${y}px) scale(1.1)`;
        });

        window.addEventListener('scroll', function() {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // 播放器核心
        let currentAudio = null;
        let currentItem = null;
        let progressTimer = null;
        let animationFrameId = null;

        document.querySelectorAll('.visualizer-canvas').forEach(canvas => {
            drawBars(canvas, false);
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            const m = Math.floor(seconds / 60);
            const s = Math.floor(seconds % 60);
            return `${m}:${s < 10 ? '0' + s : s}`;
        }

        function togglePlay(item) {
            const audio = item.querySelector('audio');
            const slider = item.querySelector('input[type="range"]');
            const canvas = item.querySelector('.visualizer-canvas');
            const currTimeDisplay = item.querySelector('.current-time');
            const totalTimeDisplay = item.querySelector('.total-time');

            if (audio === currentAudio && !audio.paused) {
                audio.pause();
                item.classList.remove('playing');
                stopAnimation(canvas);
                return;
            }

            if (currentAudio) {
                currentAudio.pause();
                if (currentItem) {
                    currentItem.classList.remove('playing');
                    currentItem.querySelector('input[type="range"]').value = 0;
                    currentItem.querySelector('.current-time').innerText = "0:00";
                    stopAnimation(currentItem.querySelector('.visualizer-canvas'));
                }
                currentAudio.currentTime = 0;
            }

            audio.volume = 0.6;
            
            const setDuration = () => {
                if (audio.duration) {
                    slider.max = audio.duration;
                    totalTimeDisplay.innerText = formatTime(audio.duration);
                }
            };
            if (audio.readyState > 0) setDuration();
            else audio.onloadedmetadata = setDuration;

            audio.play();
            item.classList.add('playing');
            currentAudio = audio;
            currentItem = item;

            progressTimer = setInterval(() => {
                if (!audio.paused) {
                    slider.value = audio.currentTime;
                    currTimeDisplay.innerText = formatTime(audio.currentTime);
                }
            }, 50);

            startAnimation(canvas);

            audio.onended = function() {
                item.classList.remove('playing');
                slider.value = 0;
                currTimeDisplay.innerText = "0:00";
                stopAnimation(canvas);
                currentAudio = null;
            };
        }

        function seekAudio(slider, event) {
            event.stopPropagation();
            const item = slider.closest('.grid-item');
            const audio = item.querySelector('audio');
            const currTimeDisplay = item.querySelector('.current-time');
            
            audio.currentTime = slider.value;
            currTimeDisplay.innerText = formatTime(slider.value);
            
            if (audio.paused) togglePlay(item);
        }

        function startAnimation(canvas) {
            if(animationFrameId) cancelAnimationFrame(animationFrameId);
            function loop() {
                drawBars(canvas, true);
                animationFrameId = requestAnimationFrame(loop);
            }
            loop();
        }

        function stopAnimation(canvas) {
            clearInterval(progressTimer);
            cancelAnimationFrame(animationFrameId);
            drawBars(canvas, false);
        }

        function drawBars(canvas, isPlaying) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const bars = 30;
            const barWidth = 2;
            const gap = (width - (bars * barWidth)) / (bars - 1);
            
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#c5a059';

            ctx.fillRect(0, height - 1, width, 1);

            for (let i = 0; i < bars; i++) {
                let barHeight = 0;
                if (isPlaying) {
                    const random = Math.random();
                    const scale = 1 - Math.abs(i - bars/2) / (bars/2);
                    barHeight = random * 35 * scale; 
                }
                const x = i * (barWidth + gap);
                const y = height - 1 - barHeight;

                if (barHeight > 0) ctx.fillRect(x, y, barWidth, barHeight);
            }
        }
    </script>
</body>
</html>